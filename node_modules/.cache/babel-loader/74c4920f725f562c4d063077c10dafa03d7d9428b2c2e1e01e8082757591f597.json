{"ast":null,"code":"import _regeneratorRuntime from\"C:/projects/Dapps/sev frontend/paywithsev/paywithSev/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/projects/Dapps/sev frontend/paywithsev/paywithSev/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/projects/Dapps/sev frontend/paywithsev/paywithSev/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import logo from\"./logo.png\";import{Layout,Button}from\"antd\";import CurrentBalance from\"./componets/CurrentBalance\";import RequestAndPay from\"./componets/RequestAndPay\";import AccountDetails from\"./componets/AccountDetails\";import RecentActivity from\"./componets/RecentActivity\";import{useConnect,useAccount,useDisconnect}from\"wagmi\";import{MetaMaskConnector}from\"wagmi/connectors/metaMask\";import axios from'axios';import{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=Layout.Header,Content=Layout.Content;function App(){var _useState=useState(\"...\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"...\"),_useState4=_slicedToArray(_useState3,2),balance=_useState4[0],setBalance=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),dollars=_useState6[0],setDollars=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),history=_useState8[0],setHistory=_useState8[1];var _useState9=useState({\"1\":[0],\"0\":[]}),_useState10=_slicedToArray(_useState9,2),requests=_useState10[0],setRequests=_useState10[1];var _useAccount=useAccount(),address=_useAccount.address,isConnected=_useAccount.isConnected;var _useDisconnect=useDisconnect(),disconnect=_useDisconnect.disconnect;var _useConnect=useConnect({connector:new MetaMaskConnector()}),connect=_useConnect.connect;function disconnectAndSetNull(){disconnect();setName(\"...\");setBalance(\"...\");setDollars(\"...\");setHistory(null);setRequests({\"1\":[0],\"0\":[]});}function getNameAndBalance(){return _getNameAndBalance.apply(this,arguments);}function _getNameAndBalance(){_getNameAndBalance=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:3001/getNameAndBalance\",{params:{userAddress:address}});case 2:res=_context.sent;response=res.data;console.log(response.requests);console.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!');if(response.name[1]){setName(response.name[0]);}setBalance(String(response.balance));setDollars(String(response.dollars));setHistory(response.history);setRequests(response.requests);case 11:case\"end\":return _context.stop();}},_callee);}));return _getNameAndBalance.apply(this,arguments);}useEffect(function(){if(!isConnected)return;getNameAndBalance();},[isConnected]);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsxs(Header,{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"headerLeft\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\",className:\"logo\"}),isConnected&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"menuOption\",style:{borderBottom:\"1.5px solid black\"},children:\"Summary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"menuOption\",children:\"Activity\"}),/*#__PURE__*/_jsx(\"div\",{className:\"menuOption\",children:\"Send & Request\"}),/*#__PURE__*/_jsx(\"div\",{className:\"menuOption\",children:\"Wallet\"}),/*#__PURE__*/_jsx(\"div\",{className:\"menuOption\",children:\"Help\"})]})]}),isConnected?/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:function onClick(){return disconnectAndSetNull();},children:\"Disconnect Wallet\"}):/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:function onClick(){return connect();},children:\"Connect Wallet\"})]}),/*#__PURE__*/_jsx(Content,{className:\"content\",children:isConnected?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"firstColumn\",children:[/*#__PURE__*/_jsx(CurrentBalance,{dollars:dollars}),/*#__PURE__*/_jsx(RequestAndPay,{requests:requests,getNameAndBalance:getNameAndBalance}),/*#__PURE__*/_jsx(AccountDetails,{address:address,name:name,balance:balance})]}),/*#__PURE__*/_jsx(\"div\",{className:\"secondColumn\",children:/*#__PURE__*/_jsx(RecentActivity,{history:history})})]}):/*#__PURE__*/_jsx(\"div\",{children:\"Please LogIn\"})})]})});}export default App;","map":{"version":3,"names":["logo","Layout","Button","CurrentBalance","RequestAndPay","AccountDetails","RecentActivity","useConnect","useAccount","useDisconnect","MetaMaskConnector","axios","useState","useEffect","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Header","Content","App","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","balance","setBalance","_useState5","_useState6","dollars","setDollars","_useState7","_useState8","history","setHistory","_useState9","_useState10","requests","setRequests","_useAccount","address","isConnected","_useDisconnect","disconnect","_useConnect","connector","connect","disconnectAndSetNull","getNameAndBalance","_getNameAndBalance","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","response","wrap","_callee$","_context","prev","next","get","params","userAddress","sent","data","console","log","String","stop","className","children","src","alt","style","borderBottom","type","onClick"],"sources":["C:/projects/Dapps/sev frontend/paywithsev/paywithSev/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport logo from \"./logo.png\";\nimport { Layout, Button } from \"antd\";\nimport CurrentBalance from \"./componets/CurrentBalance\";\nimport RequestAndPay from \"./componets/RequestAndPay\";\nimport AccountDetails from \"./componets/AccountDetails\";\nimport RecentActivity from \"./componets/RecentActivity\";\nimport {useConnect , useAccount , useDisconnect } from \"wagmi\" ;\nimport {MetaMaskConnector} from \"wagmi/connectors/metaMask\" ;\nimport axios from 'axios';\nimport { useState , useEffect } from \"react\";\n\nconst { Header, Content } = Layout;\n\nfunction App() {\n\n  const [name, setName] = useState(\"...\");\n  const [balance, setBalance] = useState(\"...\");\n  const [dollars, setDollars] = useState(null);\n  const [history, setHistory] = useState(null);\n  const [requests, setRequests] = useState({ \"1\": [0], \"0\": [] });\n\n  const { address, isConnected } = useAccount();\n  const { disconnect } = useDisconnect();\n  const { connect } = useConnect({\n    connector: new MetaMaskConnector(),\n  });\n\n\n  function disconnectAndSetNull() {\n    disconnect();\n    setName(\"...\");\n    setBalance(\"...\");\n    setDollars(\"...\");\n    setHistory(null);\n    setRequests({ \"1\": [0], \"0\": [] });\n  }\n\n  async function getNameAndBalance() {\n      const res = await axios.get(`http://localhost:3001/getNameAndBalance`, {\n        params: { userAddress: address },\n      });\n      const response = res.data;\n      console.log(response.requests);\n      console.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!');\n      if (response.name[1]) {\n        setName(response.name[0]);\n      }\n      setBalance(String(response.balance));\n      setDollars(String(response.dollars));\n      setHistory(response.history);\n      setRequests(response.requests);\n      \n    }\n  useEffect(() => {\n      if (!isConnected) return;\n      getNameAndBalance();\n    }, [isConnected]);  \n\n\n  return (\n    <div className=\"App\">\n      <Layout>\n        <Header className=\"header\">\n          <div className=\"headerLeft\">\n            <img src={logo} alt=\"logo\" className=\"logo\" />\n            {isConnected && \n            <>\n              <div\n                className=\"menuOption\"\n                style={{ borderBottom: \"1.5px solid black\" }}\n              >\n                Summary\n              </div>\n              <div className=\"menuOption\">Activity</div>\n              <div className=\"menuOption\">{`Send & Request`}</div>\n              <div className=\"menuOption\">Wallet</div>\n              <div className=\"menuOption\">Help</div>\n            </>\n}\n          </div>\n          {isConnected ?\n                   ( <Button type={\"primary\"} onClick={()=>disconnectAndSetNull()}>Disconnect Wallet</Button>\n\n          ) :        ( <Button type={\"primary\"} onClick={()=>connect()}>Connect Wallet</Button>\n\n          ) }\n        </Header>\n        <Content className=\"content\">\n          {\n          isConnected ? ( \n            <>\n          <div className=\"firstColumn\">\n            <CurrentBalance dollars={dollars} />\n            <RequestAndPay requests={requests} getNameAndBalance={getNameAndBalance}/>\n            <AccountDetails \n             address = {address}\n             name = {name}\n             balance = {balance}\n            />\n          </div>\n          <div className=\"secondColumn\">\n            <RecentActivity history={history}/>\n          </div> \n           \n          \n          </>\n          ) \n\n          :\n          ( \n          <div>Please LogIn</div>\n          )\n          }\n\n          \n            \n          \n        </Content>\n\n      </Layout>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}